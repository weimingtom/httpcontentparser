#summary VC运行库
#labels VC,build

= Introduction =

我们在链接C++程序是需要选在MD, MT, LT等库（及其对应debug库），如果选错了，经常会出现大量的链接错误，处理起来非常麻烦。本文主要介绍我之前遇到的问题，及解决的办法。


= 设计方法 =

=== 1. 尽量使用动态库 ===
对于动态库来说没有重定义问题。你的动态库可以使用/MDd，而执行程序可以用/MT,两者之间互不影响。而如果使用静态库，他们就一定要保持一致，否则就会出现大量链接错误。

=== 2.不得不使用静态库 ===
如果非要使用静态库不可的时候， 我们可以创建两个静态库的工程文件。一个工程使用/MD,另一个工程使用/MT。当用户使用/MD的时候我们就选择相应库，而代码文件只有一份。 这是一个这种的办法。 <br>

但是在设置的时候一定要注意，如果你之恶接复制一个原来的工程文件，而后改改名字放到sln当中。这时候你会发现原来的程序依赖项设置当中依赖的是新添加的程序。及时他们生成的库文件名不一定，仍然会有链接错误发生。 这时候一定要更改依赖项，并且用记事本打开工程文件，改变工程文件的UUID。 再重新生成就没问题了。

=== 3.涉及到MFC时 === 
在当前的工程当中，有一个基本的设置就是能用动态MFC库的全部使用动态MFC库。这是我们只能选择/MDd或者MDd. 无法选择/MT及/MTd。 也就是说所有使用

= Trouble Shooting =


=== 1.详细查看错误信息 ===
有时候你的库依赖于多个库，如果其中一个库使用的运行库与你使用的不同，就会出现这个错误。 找到那个库并改变运行库， 问题解决。

=== 2.LIBCMD.LIB ===
有时候还会出现`LIBCMD.LIB`已经定义，这时候在连接选项中的忽略到入库加上这个'lib'就可以了

=== 3.不要被大量的错误信息吓到 ===
不要被大量的错误信息吓到
